<!DOCTYPE html>

<html>

<head>
	<style>
		body {
			background-color: #fff;
			color: #111;
			margin: 0px;
			overflow: hidden;
			font-family: Monospace;
			font-size: 20px;
			position: absolute;
		}

		#info {
			position: absolute;
			top: 5%;
			width: 100%;
			padding: 5px;
			text-align: center;
			color: #ffff00
		}

		#loading {
			z-index: 10;
			position: absolute;
			width: 100%;
			height: 100%;
			text-align: center;
			margin: 0 auto;
			color: #ffffff;
			font-size: 40px;
		}
	</style>
</head>

<body>
	<div id="info">minimal three.js</div>
</body>

<script type="module">

	import * as $ from '../jsm/jquery-2.1.4.min.js';
	import * as THREE from '../jsm/three.module.js';
	import { OrbitControls } from '../jsm/controls/OrbitControls.js';

	var camera, scene, renderer;

	init();
	animate();

	function init() {

		scene = new THREE.Scene();

		renderer = new THREE.WebGLRenderer();
		renderer.setSize(window.innerWidth, window.innerHeight);
		renderer.setClearColor(0x888888);
		document.body.appendChild(renderer.domElement);

		camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 1000);
		camera.position.y = 200;
		camera.position.z = 200;
		let controls = new OrbitControls(camera, renderer.domElement);

		window.addEventListener('resize', onWindowResize, false); // 隨視窗大小改變

		let gridXZ = new THREE.GridHelper(200, 20, 'red', 'white');
		scene.add(gridXZ);

	}

	function onWindowResize() {
		windowHalfX = window.innerWidth / 2;
		windowHalfY = window.innerHeight / 2;

		camera.aspect = window.innerWidth / window.innerHeight;
		camera.updateProjectionMatrix();

		renderer.setSize(window.innerWidth, window.innerHeight);
	}

	function animate() {

		requestAnimationFrame(animate);
		render();

	}

	function render() {

		renderer.render(scene, camera);

	}

</script>

</html>